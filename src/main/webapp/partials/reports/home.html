<div class="contents">
    <h1>Iteration Report</h1>
    <div class="row-fluid line">
        <div class="span2 title">
            <select ng-model="$parent.iterationReport" ng-options="i as i.iteration.iterationNumber for i in iterationReports"></select>
        </div>
        <div class="span10 content">
            <div>
                <div class="row-fluid line">
                    <div class="span2 title">Iteration #</div>
                    <div class="span10 content"><span ng-bind="$parent.iterationReport.iteration.iterationNumber"></span></div>
                </div>
                <div class="row-fluid line">
                    <div class="span2 title">Description</div>
                    <div class="span10 content"><span ng-bind="$parent.iterationReport.iteration.description"></span></div>
                </div>
                <div class="row-fluid line">
                    <div class="span2 title">Start Date</div>
                    <div class="span10 content"><span ng-bind="$parent.iterationReport.iteration.startDate"></span></div>
                </div>
                <div class="row-fluid line">
                    <div class="span2 title">End Date</div>
                    <div class="span10 content"><span ng-bind="$parent.iterationReport.iteration.endDate"></span></div>
                </div>
            </div>
        </div>
    </div>

    <div class="row-fluid line">
        <div class="span2 title">
        </div>
        <div class="span10 content">
            <div class="menu_div">
                <ul>
                    <div class="row-fluid line">
                        <a href="">
                            <div class="width_thirty_six" style="float: left">Project</div>
                            <div class="width_seven" style="float: left">Score</div>
                            <div class="width_fifty_five" style="float: left">Iteration Manager</div>
                        </a>
                    </div>
                    <li ng-repeat="projectReport in $parent.iterationReport.projectReports">
                        <div class="row-fluid line">
                            <div class="width_ninety_five" style="float: left">
                                <div class="width_forty" style="float: left">{{projectReport.project.projectDescription}}</div>
                                <div class="width_eight" style="float: left;" title="{{projectReport.messages.join('\n')}}"
                                     ng-class="projectReport.reportScore|switch:{'0':'green', '1': 'lightgreen', '2': 'yellow', '3' : 'brown', '4' : 'orange', '5' : 'red'}">
                                    {{projectReport.reportScore}}</div>
                                <div class="width_forty_four" style="float: left">{{projectReport.project.iterationManager}}</div>
                                <div class="width_five" style="float: right"><img src="/images/email.png"
                                                                                  ng-click="$parent.sendMail(projectReport.project.id, projectReport.iteration.id);"></div>
                            </div>
                        </div>
                    </li>
                </ul>
            </div>
        </div>
    </div>
</div>